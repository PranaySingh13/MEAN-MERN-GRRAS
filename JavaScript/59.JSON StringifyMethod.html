<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Stringify Method</title>
</head>

<body>
    <!-- JSON.stringify() -->

    <!-- A common use of JSON is to exchange data to/from a web server.
    When sending data to a web server, the data has to be a string.
    Convert a JavaScript object into a string with JSON.stringify(). -->

    <!-- Stringify a JavaScript Object
        Imagine we have this object in JavaScript:

        const obj = {name: "John", age: 30, city: "New York"};
        Use the JavaScript function JSON.stringify() to convert it into a string.

        const myJSON = JSON.stringify(obj);
        The result will be a string following the JSON notation.

        myJSON is now a string, and ready to be sent to a server: -->
    <p id="demo"></p>
    <script>
        const obj = {
            name: "pranay",
            age: 28,
            city: "Indore"
        };
        const myJSON = JSON.stringify(obj);
        document.getElementById("demo").innerHTML = myJSON;
    </script>

    <!-- Stringify a JavaScript Array
        It is also possible to stringify JavaScript arrays:

        Imagine we have this array in JavaScript:

        const arr = ["John", "Peter", "Sally", "Jane"];
        Use the JavaScript function JSON.stringify() to convert it into a string.

        const myJSON = JSON.stringify(arr);
        The result will be a string following the JSON notation.

        myJSON is now a string, and ready to be sent to a server:

        Example -->
    <p id="demo2"></p>
    <script>
        const arr = ["John", "Peter", "Sally", "Jane"];
        const myJSON1 = JSON.stringify(arr);
        document.getElementById("demo2").innerHTML = myJSON1;
    </script>

    <!-- Storing Data and Retrieving Data
        When storing data, the data has to be a certain format, and regardless of where you choose to store it, text is always one of the legal formats.
        JSON makes it possible to store JavaScript objects as text. -->

    <p id="demo3"></p>
    <script>
        //Storing Data
        const obj1 = {
            name: "Pranay",
            age: 28,
            city: "Indore"
        };
        const myJSON2 = JSON.stringify(obj1);
        localStorage.setItem("testJSON", myJSON2);

        //Retrieving Data
        let text = localStorage.getItem("testJSON");
        let obj2 = JSON.parse(text);
        document.getElementById("demo3").innerHTML = obj2.name + " " + obj2.age + " " + obj2.city;
    </script>

    <!-- Exceptions **** IMPORTANT ****
        Stringify Dates
        In JSON, date objects are not allowed. The JSON.stringify() function will convert any dates into strings. -->
    <p id="demo4"></p>
    <script>
        const obj3 = {
            name: "John",
            today: new Date(),
            city: "New York"
        };
        const myJSON3 = JSON.stringify(obj3);
        document.getElementById("demo4").innerHTML = myJSON3;

        //You can convert the string back into a date object at the receiver.
    </script>

    <!-- Stringify Functions
        In JSON, functions are not allowed as object values.
        The JSON.stringify() function will remove any functions from a JavaScript object, both the key and the value -->
    <p id="demo5"></p>
    <p id="demo6"></p>
    <script>
        const obj4 = { name: "John", age: function () { return 30; }, city: "New York" };
        const myJSON4 = JSON.stringify(obj4);
        document.getElementById("demo5").innerHTML = myJSON4;

        //This can be omitted if you convert your functions into strings before running the JSON.stringify() function.
        obj4.age = obj4.age.toString();
        const myJSON5 = JSON.stringify(obj4);
        document.getElementById("demo6").innerHTML = myJSON5;
    </script>

    <!-- If you send functions using JSON, the functions will lose their scope, and the receiver would have to use eval() to convert them back into functions. -->
</body>

</html>