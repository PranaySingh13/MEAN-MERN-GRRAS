<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript Callbacks</title>
</head>

<body>
    <!-- "I will call back later!"
        A callback is a function passed as an argument to another function
        This technique allows a function to call another function
        A callback function can run after another function has finished -->

    <!-- Function Sequence
        JavaScript functions are executed in the sequence they are called. Not in the sequence they are defined. -->

    <!-- This example will end up displaying "Goodbye": -->
    <p id="demo"></p>

    <script>
        function myDisplay(some) {
            document.getElementById("demo").innerHTML = some;
        }
        function first() {
            myDisplay("Hello");
        }
        function second() {
            myDisplay("Goodbye");
        }

        first();
        second();
    </script>

    <!-- This example will end up displaying "Hello" -->
    <p id="demo1"></p>

    <script>
        function myDisplay(some) {
            document.getElementById("demo1").innerHTML = some;
        }
        function first() {
            myDisplay("Hello");
        }
        function second() {
            myDisplay("Goodbye");
        }
        second();
        first();
    </script>

    <!-- Sequence Control
        Sometimes you would like to have better control over when to execute a function.
        Suppose you want to do a calculation, and then display the result.
        You could call a calculator function (myCalculator), save the result, and then call another function (myDisplayer) to display the result -->

    <script>
        function myDisplayer(params) {
            document.write("<br>" + params);
        }
        function myCalculator(n1, n2) {
            const sum = n1 + n2;
            return sum;
        }
        let result = myCalculator(4, 5);
        myDisplayer(result);
    </script>
    <!-- Or, you could call a calculator function (myCalculator), and let the calculator function call the display function (myDisplayer): -->
    <script>
        function myDisplayer(params) {
            document.write("<br>" + params);
        }

        function myCalculator(num1, num2) {
            let sum = num1 + num2;
            myDisplayer(sum);
        }

        myCalculator(5, 5);
    </script>

    <!-- The problem with the first example above, is that you have to call two functions to display the result.
        The problem with the second example, is that you cannot prevent the calculator function from displaying the result.

        Now it is time to bring in a callback. -->

    <!-- JavaScript Callbacks
        A callback is a function passed as an argument to another function.
        Using a callback, you could call the calculator function (myCalculator) with a callback, and let the calculator function run the callback after the calculation is finished -->
    <script>
        function myDisplayer(params) {
            document.write("<br>" + params);
        }

        function myCalc(num1, num2, myCallback) {
            const sum = num1 + num2;
            myCallback(sum);
        }

        myCalculator(5, 6, myDisplayer);
    </script>
    <!-- In the example above, myDisplayer is the name of a function.
        It is passed to myCalculator() as an argument.
        When you pass a function as an argument, remember not to use parenthesis.

        Right: myCalculator(5, 5, myDisplayer);

        Wrong: myCalculator(5, 5, myDisplayer()); -->

    <!-- When to Use a Callback?
        The examples above are not very exciting.
        They are simplified to teach you the callback syntax.
        Where callbacks really shine are in asynchronous functions, where one function has to wait for another function (like waiting for a file to load).
        Asynchronous functions are covered in the next chapter. -->

</body>

</html>