<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Let</title>
</head>

<body>
    <!-- ECMAScript 2015
        ES2015 introduced two important new JavaScript keywords: let and const.
        These two keywords provide Block Scope variables (and constants) in JavaScript.
        Before ES2015, JavaScript had only two types of scope: Global Scope and Function Scope.  -->

    <!-- Global Scope
    Variables declared Globally (outside any function) have Global Scope. -->

    <script>
        var carName = "Volvo";

        // code here can use carName

        function myFunction() {
            // code here can also use carName
        }
    </script>
    <!-- Global variables can be accessed from anywhere in a JavaScript program. -->

    <!-- Function Scope
    Variables declared Locally (inside a function) have Function Scope. -->

    <script>
        // code here can NOT use carName
        function myFunction() {
            var carName = "Volvo";
            // code here CAN use carName
        }
        // code here can NOT use carName
    </script>

    <!-- JavaScript Block Scope
    Variables declared with the var keyword cannot have Block Scope.
    Variables declared inside a block {} can be accessed from outside the block. -->
    <script>
        {
            x = 2;
        }
        // x can NOT be used here
    </script>

    <!-- Redeclaring Variables
        Redeclaring a variable using the var keyword can impose problems.
        Redeclaring a variable inside a block will also redeclare the variable outside the block: -->
    <script>
        var x = 10;
        // Here x is 10
        {
            var x = 2;
            // Here x is 2
        }
        // Here x is 2
    </script>

    <!-- Redeclaring a variable using the let keyword can solve this problem.
    Redeclaring a variable inside a block will not redeclare the variable outside the block: -->
    <script>
        var x = 10;
        // Here x is 10
        {
            let x = 2;
            // Here x is 2
        }
        // Here x is 10
    </script>

    <!-- Loop Scope -->
    <!-- using var, the variable declared in the loop redeclares the variable outside the loop. -->
    <script>
        var i = 5;
        for (var i = 0; i < 10; i++) {
            // some statements
        }
        // Here i is 10
    </script>

    <!-- Using let, the variable declared in the loop does not redeclare the variable outside the loop. -->
    <script>
        let i = 5;
        for (let i = 0; i < 10; i++) {
            // some statements
        }
        // Here i is 5
    </script>

    <!-- Redeclaring -->
    <script>
        // Redeclaring a JavaScript variable with var is allowed anywhere in a program:
        var x = 2;

        // Now x is 2

        var x = 3;

        // Now x is 3

        // Redeclaring a let variable with let, in the same scope, or in the same block, is not allowed:
        let x = 2;       // Allowed
        let x = 3;       // Not allowed

        {
            let x = 4;   // Allowed
            let x = 5;   // Not allowed
        }

        // Redeclaring a var variable with let, in the same scope, or in the same block, is not allowed:
        var x = 2;       // Allowed
        let x = 3;       // Not allowed

        {
            var x = 4;   // Allowed
            let x = 5   // Not allowed
        }

        // Redeclaring a let variable with var, in the same scope, or in the same block, is not allowed:
        let x = 2;       // Allowed
        var x = 3;       // Not allowed

        {
            let x = 4;   // Allowed
            var x = 5;   // Not allowed
        }

        // Redeclaring a variable with let, in another scope, or in another block, is allowed:
        let x = 2;       // Allowed

        {
            let x = 3;   // Allowed
        }

        {
            let x = 4;   // Allowed
        }
    </script>

    <!--**** V.Imp Note Conclusion for var and let use**** -->

    <!-- Use var keyword only when you want to set variable as globally in your script or you want
         to redeclare the same variable in the same scope  -->
    <!-- As ES2015 came, use let keyword when you want to set variable as function scope, block scope ,loop scope
        or don't want to redeclare the variable in the same scope  -->
    <script>
        let x = 4;
        console.log("Global " + x);
        {
            let x = 5;
            console.log("block " + x);
        }
        console.log("after block " + x);

        for (let x = 0; x <= 10; x++) {
            console.log("in loop " + x);
        }
        console.log("after loop " + x);
    </script>


    <!-- Hoisting -->
    <!-- Variables defined with var are hoisted to the top and can be initialized at any time -->
    <!-- Meaning: You can use the variable before it is declared: -->
    <script>
        carName = "Volvo";
        alert(carName);
        var carName; //This is Ok.
    </script>

    <!-- Variables defined with let are hoisted to the top of the block, but not initialized.
        Meaning: The block of code is aware of the variable, but it cannot be used until it has been declared.
        Using a let variable before it is declared will result in a ReferenceError.
        The variable is in a "temporal dead zone" from the start of the block until it is declared: -->
    <script>
        carName = "Volvo";
        let carName; //This will result in a ReferenceError
    </script>

</body>

</html>